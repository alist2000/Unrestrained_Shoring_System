<!DOCTYPE html>
<html>
<head>
    <title>Report Sample</title>
    <style type="text/css">
        body {
            font: 14px Arial, Helvetica, sans-serif;
            line-height: 1.0;
            /* to centre page on screen*/
            margin-left: auto;
            margin-right: auto;
        }

        @media print { margin: 0; width: 600px; height: 800px }


        @page {
            @bottom-right {
                content: "Page " counter(page) " of " counter(pages);
            }
            @top-left {
                color: rgba(0, 0, 0, 0);
                content: "This text will not be shown";
                background-image: url('CIV_Logo_Header.svg');
                background-size: contain;
                background-repeat: no-repeat;
            }
            @top-right {
                content: "CiViSion Version 0.0.1";
            }
        }

        .custom-page-start {
            margin-top: 5px;
            margin-bottom: 5px;
        }

        h1 {
            color: #30508A;
            font-size: 14px;
        }

        h2 {
            background: #CEE5F2;
            font-size: 13px;
            padding-top: 3px;
            padding-bottom: 3px;
            padding-left: 3px;
            margin-bottom: 5px;
            margin-top: 5px;
            margin-left: -1px;
            margin-right: -1px;
        }

        h3 {
            background: #a2d2ff;
            font-size: 14px;
            margin-bottom: -1px;
            margin-top: -1px;
            margin-left: -1px;
            margin-right: -1px;
            padding-top: 3px;
            padding-bottom: 3px;
            padding-left: 3px;
        }

        t1 {
            display: block;
            font-size: 14px;
            font-style: italic;
            padding-left: 3px;
        }

        t1b {
            font-size: 14px;
            font-style: italic;
            font-weight: bold;
            padding-left: 3px;
        }

        t2 {
            font-size: 14px;
        }

        t2p {
            font-size: 14px;
            color: green;
        }

        t2f {
            font-size: 14px;
            color: red;
        }

        t2i {
            font-size: 14px;
            text-indent: 50px
        }

        tc2 {
            font-size: 14px;
            text-align: center;
        }

        p {
            font-size: 14px;
        }

        em {
            font-size: 14px;
        }

        sub {
            font-size: 14px;
        }

    </style>
    <style>
        table {
  border-spacing: 1;
  border-collapse: collapse;
  background: white;
  border-radius: 6px;
  overflow: hidden;
  max-width: 800px;
  width: 100%;
  margin: 0 auto;
  position: relative;
}
table * {
  position: relative;
}
table td, table th {
  padding-left: 8px;
  padding-right: 8px;

}
table thead tr {
  height: 35px;
  background: #D1D1D1;
  font-size: 16px;
}
table tbody tr {
  height: 26px;
  border-bottom: 1px solid #E3F1D5;
}
table tbody tr:last-child {
  border: 0;
}
table td, table th {
  text-align: left;
}
table td.l, table th.l {
  text-align: right;
}
table td.c, table th.c {
  text-align: center;
}
table td.r, table th.r {
  text-align: center;
}

@media screen and (max-width: 35.5em) {
  table {
    display: block;
  }
  table > *, table tr, table td, table th {
    display: block;
  }
  table thead {
    display: none;
  }
  table tbody tr {
    height: auto;
    padding: 8px 0;
  }
  table tbody tr td {
    padding-left: 5%;
    padding-right: 5%;
    margin-bottom: 8px;
  }
  table tbody tr td:last-child {
    margin-bottom: 0;
  }
  table tbody tr td:before {
    position: absolute;
    font-weight: 700;
    width: 40%;
    left: 10px;
    top: 0;
  }
  table tbody tr td:nth-child(1):before {
    content: "Code";
  }
  table tbody tr td:nth-child(2):before {
    content: "Stock";
  }
  table tbody tr td:nth-child(3):before {
    content: "Cap";
  }
  table tbody tr td:nth-child(4):before {
    content: "Inch";
  }
  table tbody tr td:nth-child(5):before {
    content: "Box Type";
  }
}
body {
  background: #DAF5FF;
  font: 400 14px "Calibri", "Arial";
  padding: 10px;
}

blockquote {
  color: white;
  text-align: center;
}
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <script>
        $(function () {
            $("#surcharge_inputs").load("template/surcharge_input.html");
        });
    </script>
    <script>
        $(function () {
            $("#formula").load("template/formula.html");
        });
    </script>
    <script>
            $(function () {
            var load_distribution = $("#picture_distribution").attr("load_distribution_pic");
            $("#picture_distribution").load(
                load_distribution
            );
        });
    </script>
<!--    <script>-->
<!--            $(function () {-->
<!--            var force_picture = $("#force_picture").attr("force_pic");-->
<!--            $("#force_picture").load(-->
<!--                force_picture-->
<!--            );-->
<!--        });-->
<!--    </script>-->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
    </script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        $(function () {
            $("#surcharge").load(
                "https://civision.balafan.com/restrained_shoring/include/surcharge_report"
            );
        });
    </script>
    <script>
        $(function () {
            var file_name = $("#DCRs").attr("file_name");
            $("#DCRs").load(
                file_name
            );
        });
    </script>
    <script>
        $(function () {
            $("#soil_prop").load(
                "template/soil_properties.html"
            );
        });
    </script>
    <script>
        $(function () {
            $("#deflection_dcr").load(
                "template/deflection_dcr.html"
            );
        });
    </script>
    <script>
        $(function () {
            var file_name = $("#deflection_max").attr("file_name");
            $("#deflection_max").load(
                file_name
            );
        });
    </script>
    <script>
        $(function () {
            $("#surcharge_formula_server").load(
                "https://civision.balafan.com/restrained_shoring/include/surcharge_formula"
            );
        });
    </script>

    <script>
        $(document).ready(function () {
            $("#surcharge_formula").load(
                "template/surcharge_formula.html", function() {
        MathJax.startup.document.clear();
        MathJax.startup.document.updateDocument();
    });
});
    </script>
    <script>
        $(function () {
            $("#active_pressure").load(
                "template/active_pressure_table.html"
            );
        });
    </script>
    <script>
        $(function () {
            $("#passive_pressure").load(
                "template/passive_pressure_table.html"
            );
        });
    </script>
    <script>
        $(function () {
            $("#active_force").load(
                "template/force_active_table.html"
            );
        });
    </script>
    <script>
        $(function () {
            $("#passive_force").load(
                "template/force_passive_table.html"
            );
        });
    </script>
    <script>
        $(function () {
            var file_name = $("#section_deflection").attr("file_name");
            $("#section_deflection").load(
                file_name
            );
        });
    </script>
    <script>
        $(function () {
            var file_name = $("#lagging").attr("file_name");
            $("#lagging").load(
                file_name
            );
        });
    </script>
</head>
<body>
<div class="custom-page-start">
    <h1>Unrestrained Cantilever Shoring Design/Analysis - Detailed Report</h1>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;">
                <h2> 1 Project Info</h2>
            </td>
        </tr>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 25%;">
                <t1>Project Title:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ project_title }}</t2>
            </td>
            <td style="width: 25%;">
                <t1>Designed By:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ designer }}</t2>
            </td>
        </tr>
        <tr>
            <td style="width: 25%;">
                <t1>Job Title:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ job_title }}</t2>
            </td>
            <td style="width: 25%;">
                <t1>Checked By:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ checker }}</t2>
            </td>
        </tr>
        <tr>
            <td style="width: 25%;">
                <t1>Company:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ company }}</t2>
            </td>
            <td style="width: 25%;">
                <t1>Analysis Date:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ analysis_date }}</t2>
            </td>
        </tr>
        <tr>
            <td style="width: 25%;">
                <t1>Comments:</t1>
            </td>
            <td colspan="3" ; style="width: 25%;">
                <t2>{{ comments }}</t2>
            </td>
        </tr>
        </tbody>
    </table>

    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;">
                <h2> 2 Input Parameters</h2>
            </td>
        </tr>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>2.1 General</h3></td>
        </tr>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 25%;">
                <t1>Unit System:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ unit_system }}</t2>
            </td>
            <td style="width: 25%;">
                <t1></t1>
            </td>
            <td style="width: 25%;">
                <t2></t2>
            </td>

        </tr>
        <tr>
            <td style="width: 25%;">
                <t1>E:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ E }} {{pressure_unit}}</t2>
            </td>
            <td style="width: 25%;">
                <t1>FS:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ FS }}</t2>
            </td>
        </tr>
        <tr>
            <td style="width: 25%;">
                <t1>Fy:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ Fy }}</t2>
            </td>
            <td style="width: 25%;">
                <t1>Pile Spacing:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ pile_spacing }} {{length_unit}}</t2>
            </td>
        </tr>
        <tr>
            <td style="width: 25%;">
                <t1>Allowable Deflection:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ allowable_deflection }} {{deflection_unit}}</t2>
            </td>
            <td style="width: 25%;">
                <t1>Sections:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{ Sections }}</t2>
            </td>
        </tr>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>2.2 Soil Properties</h3></td>
        </tr>
        </tbody>
    </table>
    <table id="soil_prop" border="0" style="border-collapse: collapse; width: 100%;"></table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>2.3 Surcharge</h3></td>
        </tr>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody id="surcharge_inputs">

        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>2.4 :Lagging</h3></td>
        </tr>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 25%;">
                <t1>Ph max:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{Ph_max}} {{density_unit}}</t2>
            </td>
            <td style="width: 25%;">
                <t1>Fb:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{Fb}} {{pressure_unit}}</t2>
            </td>
        </tr>
        <tr>
            <td style="width: 25%;">
                <t1>Timber Size:</t1>
            </td>
            <td style="width: 25%;">
                <t2>{{timber_size}}</t2>
            </td>
            <td style="width: 25%;">
                <t1></t1>
            </td>
            <td style="width: 25%;">
                <t2></t2>
            </td>
        </tr>
        </tbody>
    </table>
    <div class="pagebreak"></div>
<div class="custom-page-start">
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;">
                <h2> 3 Summary of Results</h2>
            </td>
        </tr>
        </tbody>
    </table>

    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>3.1 Analysis Results</h3></td>
        </tr>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 20%;">
                <t1b>Embedment Depth</t1b>
            </td>
            <td style="width: 80%;">
                <t2>
                    {{ D_round }} {{ length_unit }}
                </t2>
            </td>
        </tr>
        <tr>
            <td style="width: 20%;">
                <t1b><em>S<sub>x<sub>required</sub></sub></em></t1b>
            </td>
            <td style="width: 80%;">
                <t2>
                    {{ Sx_required }} {{Sx_unit}}
                </t2>
            </td>
        </tr>
        <tr>
            <td style="width: 20%;">
                <t1b><em>A<sub>x<sub>required</sub></sub></em></t1b>
            </td>
            <td style="width: 80%;">
                <t2>
                    {{ Ax_required }} {{Ax_unit}}
                </t2>
            </td>
        </tr>
        <tr>
            <td style="width: 20%;">
                <t1b>Moment Max</t1b>
            </td>
            <td style="width: 80%;">
                <t2>
                    {{ M_max }} {{k_moment_unit}}
                </t2>
            </td>
        </tr>
        <tr>
            <td style="width: 20%;">
                <t1b>Shear Max</t1b>
            </td>
            <td style="width: 80%;">
                <t2>
                    {{ shear_max }} {{ k_force_unit}}
                </t2>
            </td>
        </tr>
        <tr id="deflection_max" file_name={{def_max_file}}>
        </tr>
        <tr>
            <td style="width: 20%;">
                <t1b>Y zero shear</t1b>
            </td>
            <td style="width: 80%;">
                <t2>
                    {{ y_zero_shear }} {{ length_unit}}
                </t2>
            </td>
        </tr>
    </table>
</div>
<div class="pagebreak"></div>
<div class="custom-page-start">
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;">
                <h2> 4 Detailed Design/Analysis Results</h2>
            </td>
        </tr>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>4.1 Lateral Pressure Coefficients</h3></td>
        </tr>
        </tbody>
    </table>
    <table id="formula" border="0" style="border-collapse: collapse; width: 100%; background: #dfe3e6"></table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>4.2 Soil Pressure Calculation</h3></td>
        </tr>
        </tbody>
    </table>
   <table border="0" style="border-collapse: collapse; width: 100%; background: #dfe3e6">
        <tbody>
        <tr>
            <td style="width: 35%;">
                <th>Active Side</th>
            </td>
            <td style="width: 35%;">
                <t2>
                </t2>
            </td>
        </tr>
      </tbody>
       <table>
        <thead>
          <tr>
            <th>Location</th>
            <th>Soil <em>(K<sub>a</sub> × H × &#611;/ EFP<sub>a</sub> × H)</em></th>
            <th>Water</th>

          </tr>
          <thead></thead>
          <tbody id="active_pressure">
          </tbody>
          <table />

        </thead>
      </table></table><table border="0" style="border-collapse: collapse; width: 100%; background: #dfe3e6">
          <tbody>
          <tr>
              <td style="width: 35%;">
                  <th>Passive Side</th>
              </td>
              <td style="width: 35%;">
                  <t2>
                  </t2>
              </td>
          </tr></tbody></table>


 <table>
      <thead>
        <tr>
          <th>Location</th>
            <th>Soil <em>(K<sub>p</sub> × H × &#611;/ EFP<sub>p</sub> × H)</em></th>
            <th>Water</th>

        </tr>
        <thead></thead>
        <tbody id="passive_pressure">
        </tbody>
        <table />

      </thead>
    </table>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
            <tbody>
                <tr><table border="0" style="border-collapse: collapse; width: 100%; background: #dfe3e6">
        <tbody>
        <tr align="center">
            <th style="width: 100%;text-align: center">
                Load Diagram
            </th>
        </tr>
      </tr>
            <tr>
                <td style="width: 100%; text-align: center;background-color: white">
                    <img style="width: auto; height: 370;  margin-top:0px;background-color: white"
                         src="../plot/general_output1.png"
                         alt="shear diagram">

            </tr></tbody></table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>4.3 Surcharge Loads</h3></td>
        </tr>
        </tbody>
    </table>
    <table id="surcharge_formula_server"></table>
    <div id="surcharge_formula"></div>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>4.4 Driving & Resisting Forces</h3></td>
        </tr>
        </tbody>
    </table>
<!--    <table id="force_picture" force_pic={{force_pic}}> </table>-->

    <table>
    <tr>
      <td style="width: 100%;">
          <t2>DR<sub>n-1</sub>= Water Force in Loading Side</t2>
      </td>

  </tr>
  <tr>
    <td style="width: 100%;">
        <t2>DR<sub>n</sub>= Force Result of Surcharge Loads</t2>
    </td></tr>
    <tr>
      <td style="width: 100%;">
          <t2>RS<sub>n</sub>= Water Force in Resisting Side</t2>
      </td></tr>
  </table>
    <table border="0" style="border-collapse: collapse; width: 100%; background: #dfe3e6">
        <tbody>
        <tr>
            <td style="text-align: left;">
                <th>Loading Side</th>
            </td>

        </tr>
      </tbody></table>

    <table>
        <thead>
          <tr>
            <th>Title</th>
            <th>Force </th>
            <th>Arm</th>

          </tr>
          <thead></thead>
          <tbody id="active_force">
          </tbody>
          <table />

        </thead>
      </table>
    </td>
    <td>
      <table border="0" style="border-collapse: collapse; width: 100%; background: #dfe3e6">
        <tbody>
        <tr>
            <td style="text-align: left;">
                <th>Resisting Side</th>
            </td>
        </tr></tbody></table>
        <table>
      <thead>
        <tr>
          <th>Title</th>
            <th>Force</th>
            <th>Arm</th>

        </tr>
        <thead></thead>
        <tbody id="passive_force">
        </tbody>
        <table />

      </thead>
    </table>
  </td>
    </tr>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>4.5 Embedment Depth Calculation</h3></td>
        </tr>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%; background: #dfe3e6">
        <tbody>
        <tr>
            <td style="width: 15%;">
                <t1>Moments</t1>
            </td>
        </tr>
        <tr>
            <td style="width: 50%;">
                <t2>M<sub>d</sub> = {{ Md }}</t2>
            </td>
            <td style="width: 50%;">
                <t2>M<sub>r</sub> = {{ Mr }}</t2>
            </td>
        </tr>

        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 50%;">
                <t1> FS = M<sub>r</sub> / M<sub>d</sub>
                </t1>
            </td>
            <td style="width: 50%;">
                <t2></t2>
            </td>
        </tr>

        <tr>
            <td style="width: 50%;">
                <t1> FS = {{ FS }}
                </t1>
            </td>
            <td style="width: 50%;">
                <t2>M<sub>r</sub> = {{ FS }} &#215; M<sub>d</sub></t2>
            </td>
        </tr>
        <tr>
            <td style="width: 30%;">
                <t1> {{ d_equation }}</t1>
            </td>
            <td style="width: 70%;">
                <t2>D = {{ first_D }} {{ length_unit }}</t2>
            </td>
        </tr>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;">
                <t1> This value needs to be increased by 20% per Trenching and Shoring Manual, 2011
recommendation:
                </t1>
            </td>
        </tr>
        <tr>
            <td style="width: 100%; alignment: left"> {{ first_D }} × 1.2 = {{ D }} {{ length_unit }}</td>
        </tr>
        <tr>
            <td style="width: 100%; alignment: left"> <b>USE: D = {{ D_round }} {{ length_unit }}</b></td>
        </tr>

        </tbody>
    </table>

    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>4.7 Moment & Shear Diagrams</h3></td>
        </tr>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 50%;">
                <t1> V<sub>max</sub> = {{shear_max}} {{k_force_unit}}
                </t1>
            </td>
            <td style="width: 50%;">
                <t1> M<sub>max</sub> = {{M_max}} {{k_moment_unit}}
                </t1>
            </td>

        </tr>
        <tr>
            <td style="width: 50%;">
                <img style="width: 100%; height: auto;  margin-top:0px;"
                     src="../plot/general_output2.png"
                     alt="shear diagram">
            </td>
            <td style="width: 50%;">
                <img style="width: 100%; height: auto;  margin-top:0px;"
                     src="../plot/general_output3.png"
                     alt="moment diagram">
            </td>
        </tr>
        </tbody>
    </table>
    <div id="section_deflection" file_name={{section_file}}></div>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>4.10 DCRs</h3></td>
        </tr>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody id="DCRs" file_name={{DCR_file}}>
        </tbody>
    </table>
    <table border="0" style="border-collapse: collapse; width: 100%;">
        <tbody>
        <tr>
            <td style="width: 100%;"><h3>4.11 Lagging Design</h3></td>
        </tr>
        </tbody>
    </table>
    <div id="lagging" file_name={{lagging_file}}></div>
</div>
</body>
</html>